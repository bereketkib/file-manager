<header class="flex justify-between items-center w-full py-6 px-8 bg-gradient-to-b from-neutral-950/30 to-neutral-950/5 backdrop-blur-lg">
  <div class="bg-[radial-gradient(circle,_rgba(128,128,128,0.2)_0%,_rgba(128,128,128,0.1)_30%,_transparent_60%,_transparent_100%)] rounded-full p-3 lg:w-16 lg:h-16 w-10 h-10 flex items-center justify-center">
    <img src="/images/logo-white.png" alt="Logo" class="lg:w-8 w-5 h-auto">
  </div>
  <div class="relative group">
    <button id="profile-toggler" class="relative bg-slate-950 text-white border border-white/40 font-poppins font-extrabold rounded-full py-1 px-2 text-sm cursor-pointer shadow-2xl shadow-white/95 overflow-hidden" onclick="toggleProfileMenu()">
      <div class="absolute z-0 inset-0 bg-green-950 clip-diagonal">
      </div>
      <span class="relative z-40"><%= name[0].toUpperCase() %></span>
    </button>
    <!-- Custom Tooltip -->
    <div class="absolute z-10 invisible opacity-0 group-hover:visible group-hover:opacity-100 transition-opacity duration-300 bg-white/15 text-gray-300 text-[0.6rem] rounded py-1 px-2 top-8 right-3 shadow-lg w-44 text-center">
      Click here to open profile menu
    </div>
  </div>
</header>


<div id="profile-menu" class="fixed z-40 top-[5.2rem] right-4 rounded-md border border-white/10 bg-stone-900 backdrop:blur-3xl text-sm font-light text-gray-100 transition-all duration-700 ease-in-out max-w-[90%] min-w-48 md:min-w-64 p-0 flex flex-col gap-0 shadow-[0_0_20px_rgba(255,255,255,0.3)] opacity-0 scale-80 pointer-events-none">
  <div class="flex items-center justify-center gap-4 w-full py-8 md:py-12 px-4 md:px-5">
    <i class="fa-solid fa-user text-lime-400 text-3xl md:text-5xl"></i>
    <div>
      <p class="font-poppins font-bold tracking-wide text-lg"><%= name %></p>
      <p class="font-montserrat font-normal tracking-tight text-xs"><%= email %></p>
    </div>
  </div>
  <button onclick="showConfirmDialog()" class="w-full flex items-center gap-2 py-4 md:py-5 px-4 md:px-6 hover:bg-white/5">
    <i class="fa-solid fa-user-slash"></i> Delete Account
  </button>
  <a href="/auth/logout" class="w-full flex items-center gap-2 py-4 md:py-5 px-4 md:px-6 hover:bg-white/5">
    <i class="fa-solid fa-right-from-bracket"></i> Log out
  </a>
</div>

<div id="confirm-dialog" class="fixed inset-0 bg-black/90 items-center justify-center hidden z-50">
  <div class="bg-white/15 backdrop:blur-3xl text-white rounded-lg shadow-lg p-4 md:p-6 w-[90%] max-w-[36rem]">
    <h3 class="text-lg md:text-2xl text-center font-bold font-poppins tracking-wide my-4 md:my-8">
      Confirm Account Deletion
    </h3>
    <p class="mb-8 md:mb-12 text-center text-gray-300 text-sm md:text-base">
      Are you sure you want to delete your account? This action cannot be undone.
    </p>
    <div class="flex flex-col md:flex-row justify-center space-y-4 md:space-y-0 md:space-x-8 mb-4 md:mb-8">
      <button onclick="hideConfirmDialog()" class="w-full md:w-auto px-6 py-3 text-black bg-white shadow-lg hover:bg-gray-200 rounded-sm transform transition-all duration-300 ease-in-out hover:scale-105">
        Cancel
      </button>
      <form action="/auth/delete-account" method="POST" class="w-full md:w-auto">
        <button type="submit" class="w-full md:w-auto px-6 py-3 text-white bg-red-600 shadow-lg hover:bg-red-400 rounded-sm transform transition-all duration-300 ease-in-out hover:scale-105">
          Delete
        </button>
      </form>
    </div>
  </div>
</div>